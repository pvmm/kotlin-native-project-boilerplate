// build.gradle
plugins {
    id 'org.jetbrains.kotlin.multiplatform' version '1.6.21'
}

repositories {
    mavenCentral()
}

kotlin {
    // macosX64('native') { // on macOS
    linuxX64('native') { // on Linux
    // mingwX64('native') { // on Windows

        compilations.main.cinterops {
            kitty_util {
                // Def-file describing the native API.
                defFile project.file("src/nativeInterop/cinterop/kitty_util.def")
                compilerOpts '-Isrc/nativeInterop/cinterop', '-I/usr/include'
                includeDirs("/usr/include/")
            }
        }

        binaries {
            executable()
        }
    }
}

wrapper {
    gradleVersion = '6.7.1'
    distributionType = 'BIN'
}
